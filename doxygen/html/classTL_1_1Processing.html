<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TriLite: TL::Processing Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TriLite
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceTL.html">TL</a></li><li class="navelem"><a class="el" href="classTL_1_1Processing.html">Processing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classTL_1_1Processing-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TL::Processing Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Processing_8hpp_source.html">Processing.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4024c924d0d122c596000df8570d5f64" id="r_a4024c924d0d122c596000df8570d5f64"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4024c924d0d122c596000df8570d5f64">DecimateMesh</a> (<a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;mesh, size_t target_face_count)</td></tr>
<tr class="memdesc:a4024c924d0d122c596000df8570d5f64"><td class="mdescLeft">&#160;</td><td class="mdescRight">External decimation function to simplify a triangular mesh.  <br /></td></tr>
<tr class="separator:a4024c924d0d122c596000df8570d5f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa970afbe636d7558fcdb7e710d43daa8" id="r_aa970afbe636d7558fcdb7e710d43daa8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa970afbe636d7558fcdb7e710d43daa8">FillMeshHoles</a> (<a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;mesh, size_t target_hole_count=0)</td></tr>
<tr class="memdesc:aa970afbe636d7558fcdb7e710d43daa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills holes in a triangular mesh by detecting boundary edges and adding triangles.  <br /></td></tr>
<tr class="separator:aa970afbe636d7558fcdb7e710d43daa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f16cfc9fa948c3af1aa57e269a95d7" id="r_aa5f16cfc9fa948c3af1aa57e269a95d7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5f16cfc9fa948c3af1aa57e269a95d7">TaubinSmoothing</a> (<a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;mesh, int iterations=1, double lambda=0.5, double mu=-0.53)</td></tr>
<tr class="memdesc:aa5f16cfc9fa948c3af1aa57e269a95d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies volume-preserving Laplacian smoothing (Taubin smoothing) to a triangular mesh.  <br /></td></tr>
<tr class="separator:aa5f16cfc9fa948c3af1aa57e269a95d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb0e6f73e29e0203cdd0247b21d8e23" id="r_aebb0e6f73e29e0203cdd0247b21d8e23"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebb0e6f73e29e0203cdd0247b21d8e23">RemoveSelfIntersections</a> (<a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;mesh)</td></tr>
<tr class="memdesc:aebb0e6f73e29e0203cdd0247b21d8e23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes self-intersections from a triangular mesh.  <br /></td></tr>
<tr class="separator:aebb0e6f73e29e0203cdd0247b21d8e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d2ba19973d267c718ed4bbaa47d974" id="r_a07d2ba19973d267c718ed4bbaa47d974"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07d2ba19973d267c718ed4bbaa47d974">PrintabilityHeuristics</a> (<a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;mesh, int niters=10)</td></tr>
<tr class="memdesc:a07d2ba19973d267c718ed4bbaa47d974"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a triangular mesh for 3D printing by iteratively closing it while applying several cleaning and repair steps (only the largest connected component is preserved).  <br /></td></tr>
<tr class="separator:a07d2ba19973d267c718ed4bbaa47d974"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="Processing_8hpp_source.html#l00033">33</a> of file <a class="el" href="Processing_8hpp_source.html">Processing.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4024c924d0d122c596000df8570d5f64" name="a4024c924d0d122c596000df8570d5f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4024c924d0d122c596000df8570d5f64">&#9670;&#160;</a></span>DecimateMesh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TL::Processing::DecimateMesh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mesh</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>target_face_count</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>External decimation function to simplify a triangular mesh. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>Reference to the <a class="el" href="classTL_1_1Trimesh.html" title="Represents a triangle mesh using a half-edge data structure.">Trimesh</a> object to be simplified. </td></tr>
    <tr><td class="paramname">target_face_count</td><td>The target number of faces after decimation. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Processing_8hpp_source.html#l00527">527</a> of file <a class="el" href="Processing_8hpp_source.html">Processing.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  527</span>                                                                     {</div>
<div class="line"><span class="lineno">  528</span>  std::vector&lt;double&gt; edge_lengths(mesh.NumHalfedges());</div>
<div class="line"><span class="lineno">  529</span>  <span class="keyword">auto</span> compare = [&amp;edge_lengths](<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h, <a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> g) {</div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">return</span> edge_lengths[h] &lt; edge_lengths[g] ||</div>
<div class="line"><span class="lineno">  531</span>           (edge_lengths[h] == edge_lengths[g] &amp;&amp; h &lt; g);</div>
<div class="line"><span class="lineno">  532</span>  };</div>
<div class="line"><span class="lineno">  533</span>  std::set&lt;<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a>, <span class="keyword">decltype</span>(compare)&gt; hset(compare);</div>
<div class="line"><span class="lineno">  534</span>  <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h : mesh.Halfedges()) {</div>
<div class="line"><span class="lineno">  535</span>    edge_lengths[h] = mesh.HLength(h);</div>
<div class="line"><span class="lineno">  536</span>    assert(std::isfinite(edge_lengths[h]));</div>
<div class="line"><span class="lineno">  537</span>    hset.insert(h);</div>
<div class="line"><span class="lineno">  538</span>  }</div>
<div class="line"><span class="lineno">  539</span>  <span class="keywordflow">while</span> (mesh.NumFaces() &gt; target_face_count &amp;&amp; !hset.empty()) {</div>
<div class="line"><span class="lineno">  540</span>    <span class="keyword">auto</span> minh = *hset.begin();</div>
<div class="line"><span class="lineno">  541</span>    hset.erase(minh);</div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">if</span> (minh &gt;= mesh.NumHalfedges()) {</div>
<div class="line"><span class="lineno">  543</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  544</span>    }</div>
<div class="line"><span class="lineno">  545</span>    std::array&lt;V, 2&gt; verts = {mesh.HStart(minh), mesh.HEnd(minh)};</div>
<div class="line"><span class="lineno">  546</span>    <a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a> last_vert_id = mesh.NumVertices() - 1;</div>
<div class="line"><span class="lineno">  547</span>    <span class="keyword">auto</span> [rm_faces, rm_vertices] = mesh.CollapseEdge(minh);</div>
<div class="line"><span class="lineno">  548</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a>&amp; rem_v : rm_vertices) {</div>
<div class="line"><span class="lineno">  549</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a>&amp; v : verts) {</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">if</span> (v == rem_v) {</div>
<div class="line"><span class="lineno">  551</span>          v = <a class="code hl_variable" href="namespaceTL.html#a37d22a7a34a8b879d2d01f6448e7730c">kInvalidId</a>;</div>
<div class="line"><span class="lineno">  552</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v == last_vert_id) {</div>
<div class="line"><span class="lineno">  553</span>          v = rem_v;</div>
<div class="line"><span class="lineno">  554</span>        }</div>
<div class="line"><span class="lineno">  555</span>      }</div>
<div class="line"><span class="lineno">  556</span>      last_vert_id--;</div>
<div class="line"><span class="lineno">  557</span>    }</div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a968f9ff7a6d27b8d4b80a2c160dd9157">F</a> f : rm_faces) {</div>
<div class="line"><span class="lineno">  559</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h : {3 * f, 3 * f + 1, 3 * f + 2}) {</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">if</span> (h &lt; mesh.NumHalfedges()) {</div>
<div class="line"><span class="lineno">  561</span>          hset.erase(h);</div>
<div class="line"><span class="lineno">  562</span>        }</div>
<div class="line"><span class="lineno">  563</span>      }</div>
<div class="line"><span class="lineno">  564</span>    }</div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a> v : verts) {</div>
<div class="line"><span class="lineno">  566</span>      <span class="keywordflow">if</span> (v != <a class="code hl_variable" href="namespaceTL.html#a37d22a7a34a8b879d2d01f6448e7730c">kInvalidId</a>) {</div>
<div class="line"><span class="lineno">  567</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h : mesh.VStartings(v)) {</div>
<div class="line"><span class="lineno">  568</span>          hset.erase(h);</div>
<div class="line"><span class="lineno">  569</span>        }</div>
<div class="line"><span class="lineno">  570</span>      }</div>
<div class="line"><span class="lineno">  571</span>    }</div>
<div class="line"><span class="lineno">  572</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a968f9ff7a6d27b8d4b80a2c160dd9157">F</a> f : rm_faces) {</div>
<div class="line"><span class="lineno">  573</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h : {3 * f, 3 * f + 1, 3 * f + 2}) {</div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordflow">if</span> (h &lt; mesh.NumHalfedges()) {</div>
<div class="line"><span class="lineno">  575</span>          edge_lengths[h] = mesh.HLength(h);</div>
<div class="line"><span class="lineno">  576</span>          hset.insert(h);</div>
<div class="line"><span class="lineno">  577</span>        }</div>
<div class="line"><span class="lineno">  578</span>      }</div>
<div class="line"><span class="lineno">  579</span>    }</div>
<div class="line"><span class="lineno">  580</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a> v : verts) {</div>
<div class="line"><span class="lineno">  581</span>      <span class="keywordflow">if</span> (v != <a class="code hl_variable" href="namespaceTL.html#a37d22a7a34a8b879d2d01f6448e7730c">kInvalidId</a>) {</div>
<div class="line"><span class="lineno">  582</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h : mesh.VStartings(v)) {</div>
<div class="line"><span class="lineno">  583</span>          edge_lengths[h] = mesh.HLength(h);</div>
<div class="line"><span class="lineno">  584</span>          hset.insert(h);</div>
<div class="line"><span class="lineno">  585</span>        }</div>
<div class="line"><span class="lineno">  586</span>      }</div>
<div class="line"><span class="lineno">  587</span>    }</div>
<div class="line"><span class="lineno">  588</span>  }</div>
<div class="line"><span class="lineno">  589</span>}</div>
<div class="ttc" id="anamespaceTL_html_a1ffed3d27eb74d760c9bff4b7773ac9b"><div class="ttname"><a href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">TL::H</a></div><div class="ttdeci">Index H</div><div class="ttdef"><b>Definition</b> <a href="Trimesh_8hpp_source.html#l00036">Trimesh.hpp:36</a></div></div>
<div class="ttc" id="anamespaceTL_html_a37d22a7a34a8b879d2d01f6448e7730c"><div class="ttname"><a href="namespaceTL.html#a37d22a7a34a8b879d2d01f6448e7730c">TL::kInvalidId</a></div><div class="ttdeci">constexpr Index kInvalidId</div><div class="ttdef"><b>Definition</b> <a href="Trimesh_8hpp_source.html#l00039">Trimesh.hpp:39</a></div></div>
<div class="ttc" id="anamespaceTL_html_a960f68e64527af17721202011215ccbb"><div class="ttname"><a href="namespaceTL.html#a960f68e64527af17721202011215ccbb">TL::V</a></div><div class="ttdeci">Index V</div><div class="ttdef"><b>Definition</b> <a href="Trimesh_8hpp_source.html#l00037">Trimesh.hpp:37</a></div></div>
<div class="ttc" id="anamespaceTL_html_a968f9ff7a6d27b8d4b80a2c160dd9157"><div class="ttname"><a href="namespaceTL.html#a968f9ff7a6d27b8d4b80a2c160dd9157">TL::F</a></div><div class="ttdeci">Index F</div><div class="ttdef"><b>Definition</b> <a href="Trimesh_8hpp_source.html#l00038">Trimesh.hpp:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Trimesh_8hpp_source.html#l00891">TL::Trimesh::CollapseEdge()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00568">TL::Trimesh::Halfedges()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00593">TL::Trimesh::HEnd()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00648">TL::Trimesh::HLength()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00592">TL::Trimesh::HStart()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00039">TL::kInvalidId</a>, <a class="el" href="Trimesh_8hpp_source.html#l00567">TL::Trimesh::NumFaces()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00565">TL::Trimesh::NumHalfedges()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00566">TL::Trimesh::NumVertices()</a>, and <a class="el" href="Trimesh_8hpp_source.html#l00651">TL::Trimesh::VStartings()</a>.</p>

</div>
</div>
<a id="aa970afbe636d7558fcdb7e710d43daa8" name="aa970afbe636d7558fcdb7e710d43daa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa970afbe636d7558fcdb7e710d43daa8">&#9670;&#160;</a></span>FillMeshHoles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TL::Processing::FillMeshHoles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mesh</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>target_hole_count</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills holes in a triangular mesh by detecting boundary edges and adding triangles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The triangular mesh to be processed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Processing_8hpp_source.html#l00591">591</a> of file <a class="el" href="Processing_8hpp_source.html">Processing.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  591</span>                                                                      {</div>
<div class="line"><span class="lineno">  592</span>  std::unordered_set&lt;H&gt; boundary_edges;</div>
<div class="line"><span class="lineno">  593</span>  std::vector&lt;std::vector&lt;H&gt;&gt; polygons;</div>
<div class="line"><span class="lineno">  594</span>  <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> st_h : mesh.BoundaryHalfedges()) {</div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordflow">if</span> (!boundary_edges.count(st_h)) {</div>
<div class="line"><span class="lineno">  596</span>      polygons.push_back(</div>
<div class="line"><span class="lineno">  597</span>          std::ranges::to&lt;std::vector&gt;(mesh.HHalfedgesAroundHole(st_h)));</div>
<div class="line"><span class="lineno">  598</span>      boundary_edges.insert(polygons.back().begin(), polygons.back().end());</div>
<div class="line"><span class="lineno">  599</span>    }</div>
<div class="line"><span class="lineno">  600</span>  }</div>
<div class="line"><span class="lineno">  601</span>  std::sort(polygons.begin(), polygons.end(),</div>
<div class="line"><span class="lineno">  602</span>            [](<span class="keyword">auto</span>&amp; A, <span class="keyword">auto</span>&amp; B) { return A.size() &lt; B.size(); });</div>
<div class="line"><span class="lineno">  603</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<span class="keywordtype">id</span>, polygon] : std::views::enumerate(polygons)) {</div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">if</span> (polygons.size() - <span class="keywordtype">id</span> == target_hole_count) {</div>
<div class="line"><span class="lineno">  605</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  606</span>    }</div>
<div class="line"><span class="lineno">  607</span>    assert(polygon.size() &gt;= 3);</div>
<div class="line"><span class="lineno">  608</span>    std::vector&lt;double&gt; sum_angle(polygon.size());</div>
<div class="line"><span class="lineno">  609</span>    <span class="keyword">auto</span> set_sum_angle = [&amp;mesh, &amp;polygon, &amp;sum_angle](<span class="keywordtype">size_t</span> i) {</div>
<div class="line"><span class="lineno">  610</span>      <a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h = polygon[i];</div>
<div class="line"><span class="lineno">  611</span>      sum_angle[i] = 0;</div>
<div class="line"><span class="lineno">  612</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> he : mesh.HConnectionsAroundStart(h)) {</div>
<div class="line"><span class="lineno">  613</span>        sum_angle[i] += std::acos(</div>
<div class="line"><span class="lineno">  614</span>            std::clamp(mesh.HGeometry(he).normalized().dot(</div>
<div class="line"><span class="lineno">  615</span>                           -mesh.HGeometry(mesh.HPrev(he)).normalized()),</div>
<div class="line"><span class="lineno">  616</span>                       -1.0, 1.0));</div>
<div class="line"><span class="lineno">  617</span>      }</div>
<div class="line"><span class="lineno">  618</span>    };</div>
<div class="line"><span class="lineno">  619</span>    <span class="keyword">auto</span> cmp = [&amp;mesh, &amp;sum_angle](std::pair&lt;size_t, double&gt; a,</div>
<div class="line"><span class="lineno">  620</span>                                   std::pair&lt;size_t, double&gt; b) {</div>
<div class="line"><span class="lineno">  621</span>      <span class="keywordflow">return</span> a.second &lt; b.second;</div>
<div class="line"><span class="lineno">  622</span>    };</div>
<div class="line"><span class="lineno">  623</span>    std::priority_queue&lt;std::pair&lt;size_t, double&gt;,</div>
<div class="line"><span class="lineno">  624</span>                        std::vector&lt;std::pair&lt;size_t, double&gt;&gt;, <span class="keyword">decltype</span>(cmp)&gt;</div>
<div class="line"><span class="lineno">  625</span>        q(cmp);</div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; polygon.size(); i++) {</div>
<div class="line"><span class="lineno">  627</span>      set_sum_angle(i);</div>
<div class="line"><span class="lineno">  628</span>      q.push(std::make_pair(i, sum_angle[i]));</div>
<div class="line"><span class="lineno">  629</span>    }</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>    std::set&lt;std::pair&lt;size_t, H&gt;&gt; s;</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; polygon.size(); i++) {</div>
<div class="line"><span class="lineno">  633</span>      s.insert(std::make_pair(i, polygon[i]));</div>
<div class="line"><span class="lineno">  634</span>    }</div>
<div class="line"><span class="lineno">  635</span>    <span class="keywordflow">while</span> (!q.empty() &amp;&amp; s.size() &gt;= 3) {</div>
<div class="line"><span class="lineno">  636</span>      <span class="keyword">auto</span> [i1, angle] = q.top();</div>
<div class="line"><span class="lineno">  637</span>      q.pop();</div>
<div class="line"><span class="lineno">  638</span>      <span class="keywordflow">if</span> (angle != sum_angle[i1]) {</div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  640</span>      }</div>
<div class="line"><span class="lineno">  641</span>      <a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h1 = polygon[i1];</div>
<div class="line"><span class="lineno">  642</span>      <span class="keyword">auto</span> it = s.find(std::make_pair(i1, h1));</div>
<div class="line"><span class="lineno">  643</span>      <span class="keywordflow">if</span> (it == s.end()) {</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  645</span>      }</div>
<div class="line"><span class="lineno">  646</span>      <span class="keyword">auto</span> [i0, h0] = *((it == s.begin()) ? std::prev(s.end()) : std::prev(it));</div>
<div class="line"><span class="lineno">  647</span>      <span class="keyword">auto</span> [i2, h2] = *((std::next(it) == s.end()) ? s.begin() : std::next(it));</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>      mesh.AddFace({mesh.HStart(h0), mesh.HStart(h2), mesh.HStart(h1)});</div>
<div class="line"><span class="lineno">  650</span>      sum_angle[i0] += std::acos(std::clamp(</div>
<div class="line"><span class="lineno">  651</span>          mesh.HGeometry(mesh.NumHalfedges() - 3)</div>
<div class="line"><span class="lineno">  652</span>              .normalized()</div>
<div class="line"><span class="lineno">  653</span>              .dot(-mesh.HGeometry(mesh.NumHalfedges() - 1).normalized()),</div>
<div class="line"><span class="lineno">  654</span>          -1.0, 1.0));</div>
<div class="line"><span class="lineno">  655</span>      q.push(std::make_pair(i0, sum_angle[i0]));</div>
<div class="line"><span class="lineno">  656</span>      sum_angle[i2] += std::acos(std::clamp(</div>
<div class="line"><span class="lineno">  657</span>          mesh.HGeometry(mesh.NumHalfedges() - 2)</div>
<div class="line"><span class="lineno">  658</span>              .normalized()</div>
<div class="line"><span class="lineno">  659</span>              .dot(-mesh.HGeometry(mesh.NumHalfedges() - 3).normalized()),</div>
<div class="line"><span class="lineno">  660</span>          -1.0, 1.0));</div>
<div class="line"><span class="lineno">  661</span>      q.push(std::make_pair(i2, sum_angle[i2]));</div>
<div class="line"><span class="lineno">  662</span>      s.erase(it);</div>
<div class="line"><span class="lineno">  663</span>    }</div>
<div class="line"><span class="lineno">  664</span>  }</div>
<div class="line"><span class="lineno">  665</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Trimesh_8hpp_source.html#l00775">TL::Trimesh::AddFace()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00748">TL::Trimesh::BoundaryHalfedges()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00620">TL::Trimesh::HConnectionsAroundStart()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00614">TL::Trimesh::HGeometry()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00636">TL::Trimesh::HHalfedgesAroundHole()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00588">TL::Trimesh::HPrev()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00592">TL::Trimesh::HStart()</a>, and <a class="el" href="Trimesh_8hpp_source.html#l00565">TL::Trimesh::NumHalfedges()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Processing_8hpp_source.html#l00714">PrintabilityHeuristics()</a>.</p>

</div>
</div>
<a id="a07d2ba19973d267c718ed4bbaa47d974" name="a07d2ba19973d267c718ed4bbaa47d974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d2ba19973d267c718ed4bbaa47d974">&#9670;&#160;</a></span>PrintabilityHeuristics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TL::Processing::PrintabilityHeuristics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mesh</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>niters</em><span class="paramdefsep"> = </span><span class="paramdefval">10</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares a triangular mesh for 3D printing by iteratively closing it while applying several cleaning and repair steps (only the largest connected component is preserved). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>Reference to the <a class="el" href="classTL_1_1Trimesh.html" title="Represents a triangle mesh using a half-edge data structure.">Trimesh</a> object to be prepared. </td></tr>
    <tr><td class="paramname">niters</td><td>The number of iterations to perform (default is 10). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Processing_8hpp_source.html#l00714">714</a> of file <a class="el" href="Processing_8hpp_source.html">Processing.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  714</span>                                                                 {</div>
<div class="line"><span class="lineno">  715</span>  <span class="keywordflow">if</span> (mesh.NumFaces() == 0) {</div>
<div class="line"><span class="lineno">  716</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  717</span>  }</div>
<div class="line"><span class="lineno">  718</span>  RetainLargestComponent(mesh);</div>
<div class="line"><span class="lineno">  719</span>  std::vector&lt;double&gt; lengths(mesh.NumHalfedges());</div>
<div class="line"><span class="lineno">  720</span>  <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h : mesh.Halfedges()) {</div>
<div class="line"><span class="lineno">  721</span>    lengths[h] = mesh.HLength(h);</div>
<div class="line"><span class="lineno">  722</span>  }</div>
<div class="line"><span class="lineno">  723</span>  std::sort(lengths.begin(), lengths.end());</div>
<div class="line"><span class="lineno">  724</span>  <span class="keywordtype">double</span> max_length = 2.0 * lengths[lengths.size() / 2];</div>
<div class="line"><span class="lineno">  725</span>  <span class="keywordtype">double</span> min_length = 0.5 * lengths[lengths.size() / 2];</div>
<div class="line"><span class="lineno">  726</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; niters; i++) {</div>
<div class="line"><span class="lineno">  727</span>    ClampEdgeLengths(mesh, min_length, max_length);</div>
<div class="line"><span class="lineno">  728</span>    <a class="code hl_function" href="#aebb0e6f73e29e0203cdd0247b21d8e23">TL::Processing::RemoveSelfIntersections</a>(mesh);</div>
<div class="line"><span class="lineno">  729</span>    mesh.DisconnectFacesUntilManifold();</div>
<div class="line"><span class="lineno">  730</span>    RetainLargestComponent(mesh);</div>
<div class="line"><span class="lineno">  731</span>    <a class="code hl_function" href="#aa970afbe636d7558fcdb7e710d43daa8">TL::Processing::FillMeshHoles</a>(mesh, 0);</div>
<div class="line"><span class="lineno">  732</span>    mesh.DisconnectFacesUntilManifold();</div>
<div class="line"><span class="lineno">  733</span>    RetainLargestComponent(mesh);</div>
<div class="line"><span class="lineno">  734</span>    MakeDelaunay(mesh);</div>
<div class="line"><span class="lineno">  735</span>    <a class="code hl_function" href="#aa5f16cfc9fa948c3af1aa57e269a95d7">TL::Processing::TaubinSmoothing</a>(mesh);</div>
<div class="line"><span class="lineno">  736</span>  }</div>
<div class="line"><span class="lineno">  737</span>}</div>
<div class="ttc" id="aclassTL_1_1Processing_html_aa5f16cfc9fa948c3af1aa57e269a95d7"><div class="ttname"><a href="#aa5f16cfc9fa948c3af1aa57e269a95d7">TL::Processing::TaubinSmoothing</a></div><div class="ttdeci">static void TaubinSmoothing(Trimesh &amp;mesh, int iterations=1, double lambda=0.5, double mu=-0.53)</div><div class="ttdoc">Applies volume-preserving Laplacian smoothing (Taubin smoothing) to a triangular mesh.</div><div class="ttdef"><b>Definition</b> <a href="Processing_8hpp_source.html#l00667">Processing.hpp:667</a></div></div>
<div class="ttc" id="aclassTL_1_1Processing_html_aa970afbe636d7558fcdb7e710d43daa8"><div class="ttname"><a href="#aa970afbe636d7558fcdb7e710d43daa8">TL::Processing::FillMeshHoles</a></div><div class="ttdeci">static void FillMeshHoles(Trimesh &amp;mesh, size_t target_hole_count=0)</div><div class="ttdoc">Fills holes in a triangular mesh by detecting boundary edges and adding triangles.</div><div class="ttdef"><b>Definition</b> <a href="Processing_8hpp_source.html#l00591">Processing.hpp:591</a></div></div>
<div class="ttc" id="aclassTL_1_1Processing_html_aebb0e6f73e29e0203cdd0247b21d8e23"><div class="ttname"><a href="#aebb0e6f73e29e0203cdd0247b21d8e23">TL::Processing::RemoveSelfIntersections</a></div><div class="ttdeci">static void RemoveSelfIntersections(Trimesh &amp;mesh)</div><div class="ttdoc">Removes self-intersections from a triangular mesh.</div><div class="ttdef"><b>Definition</b> <a href="Processing_8hpp_source.html#l00706">Processing.hpp:706</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Trimesh_8hpp_source.html#l01032">TL::Trimesh::DisconnectFacesUntilManifold()</a>, <a class="el" href="Processing_8hpp_source.html#l00591">FillMeshHoles()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00568">TL::Trimesh::Halfedges()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00648">TL::Trimesh::HLength()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00567">TL::Trimesh::NumFaces()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00565">TL::Trimesh::NumHalfedges()</a>, <a class="el" href="Processing_8hpp_source.html#l00706">RemoveSelfIntersections()</a>, and <a class="el" href="Processing_8hpp_source.html#l00667">TaubinSmoothing()</a>.</p>

</div>
</div>
<a id="aebb0e6f73e29e0203cdd0247b21d8e23" name="aebb0e6f73e29e0203cdd0247b21d8e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb0e6f73e29e0203cdd0247b21d8e23">&#9670;&#160;</a></span>RemoveSelfIntersections()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TL::Processing::RemoveSelfIntersections </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mesh</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes self-intersections from a triangular mesh. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The triangular mesh to be processed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Processing_8hpp_source.html#l00706">706</a> of file <a class="el" href="Processing_8hpp_source.html">Processing.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  706</span>                                                      {</div>
<div class="line"><span class="lineno">  707</span>  std::vector&lt;TL::F&gt; rm_faces;</div>
<div class="line"><span class="lineno">  708</span>  <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a968f9ff7a6d27b8d4b80a2c160dd9157">TL::F</a> f : FindSelfIntersections(mesh)) {</div>
<div class="line"><span class="lineno">  709</span>    rm_faces.push_back(f);</div>
<div class="line"><span class="lineno">  710</span>  }</div>
<div class="line"><span class="lineno">  711</span>  mesh.RemoveFaces(rm_faces);</div>
<div class="line"><span class="lineno">  712</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Trimesh_8hpp_source.html#l00873">TL::Trimesh::RemoveFaces()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Processing_8hpp_source.html#l00714">PrintabilityHeuristics()</a>.</p>

</div>
</div>
<a id="aa5f16cfc9fa948c3af1aa57e269a95d7" name="aa5f16cfc9fa948c3af1aa57e269a95d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f16cfc9fa948c3af1aa57e269a95d7">&#9670;&#160;</a></span>TaubinSmoothing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TL::Processing::TaubinSmoothing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTL_1_1Trimesh.html">Trimesh</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mesh</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>iterations</em><span class="paramdefsep"> = </span><span class="paramdefval">1</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lambda</em><span class="paramdefsep"> = </span><span class="paramdefval">0.5</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>mu</em><span class="paramdefsep"> = </span><span class="paramdefval">-0.53</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Applies volume-preserving Laplacian smoothing (Taubin smoothing) to a triangular mesh. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The triangular mesh to be smoothed. </td></tr>
    <tr><td class="paramname">iterations</td><td>The number of smoothing iterations. </td></tr>
    <tr><td class="paramname">lambda</td><td>The smoothing factor for the Laplacian step. </td></tr>
    <tr><td class="paramname">mu</td><td>The inverse smoothing factor for the inverse Laplacian step. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Processing_8hpp_source.html#l00667">667</a> of file <a class="el" href="Processing_8hpp_source.html">Processing.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  668</span>                                            {</div>
<div class="line"><span class="lineno">  669</span>  std::vector&lt;Vector3d&gt; new_positions(mesh.NumVertices());</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iter = 0; iter &lt; iterations; ++iter) {</div>
<div class="line"><span class="lineno">  672</span>    <span class="comment">// Laplacian smoothing step (positive weight)</span></div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a> v : mesh.Vertices()) {</div>
<div class="line"><span class="lineno">  674</span>      Vector3d laplacian(0, 0, 0);</div>
<div class="line"><span class="lineno">  675</span>      <span class="keywordtype">size_t</span> valence = 0;</div>
<div class="line"><span class="lineno">  676</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h : mesh.VStartings(v)) {</div>
<div class="line"><span class="lineno">  677</span>        laplacian += mesh.VPosition(mesh.HEnd(h));</div>
<div class="line"><span class="lineno">  678</span>        ++valence;</div>
<div class="line"><span class="lineno">  679</span>      }</div>
<div class="line"><span class="lineno">  680</span>      laplacian /= <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(valence);</div>
<div class="line"><span class="lineno">  681</span>      new_positions[v] =</div>
<div class="line"><span class="lineno">  682</span>          mesh.VPosition(v) + lambda * (laplacian - mesh.VPosition(v));</div>
<div class="line"><span class="lineno">  683</span>    }</div>
<div class="line"><span class="lineno">  684</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a> v : mesh.Vertices()) {</div>
<div class="line"><span class="lineno">  685</span>      mesh.VPosition(v) = new_positions[v];</div>
<div class="line"><span class="lineno">  686</span>    }</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>    <span class="comment">// Laplacian smoothing step (negative weight, inverse smoothing)</span></div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a> v : mesh.Vertices()) {</div>
<div class="line"><span class="lineno">  690</span>      Vector3d laplacian(0, 0, 0);</div>
<div class="line"><span class="lineno">  691</span>      <span class="keywordtype">size_t</span> valence = 0;</div>
<div class="line"><span class="lineno">  692</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a1ffed3d27eb74d760c9bff4b7773ac9b">H</a> h : mesh.VStartings(v)) {</div>
<div class="line"><span class="lineno">  693</span>        laplacian += mesh.VPosition(mesh.HEnd(h));</div>
<div class="line"><span class="lineno">  694</span>        ++valence;</div>
<div class="line"><span class="lineno">  695</span>      }</div>
<div class="line"><span class="lineno">  696</span>      laplacian /= <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(valence);</div>
<div class="line"><span class="lineno">  697</span>      new_positions[v] =</div>
<div class="line"><span class="lineno">  698</span>          mesh.VPosition(v) + mu * (laplacian - mesh.VPosition(v));</div>
<div class="line"><span class="lineno">  699</span>    }</div>
<div class="line"><span class="lineno">  700</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespaceTL.html#a960f68e64527af17721202011215ccbb">V</a> v : mesh.Vertices()) {</div>
<div class="line"><span class="lineno">  701</span>      mesh.VPosition(v) = new_positions[v];</div>
<div class="line"><span class="lineno">  702</span>    }</div>
<div class="line"><span class="lineno">  703</span>  }</div>
<div class="line"><span class="lineno">  704</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Trimesh_8hpp_source.html#l00593">TL::Trimesh::HEnd()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00566">TL::Trimesh::NumVertices()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00571">TL::Trimesh::Vertices()</a>, <a class="el" href="Trimesh_8hpp_source.html#l00664">TL::Trimesh::VPosition()</a>, and <a class="el" href="Trimesh_8hpp_source.html#l00651">TL::Trimesh::VStartings()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Processing_8hpp_source.html#l00714">PrintabilityHeuristics()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/saumz/Documents/projects/TriLite/TriLite/Modules/<a class="el" href="Processing_8hpp_source.html">Processing.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
